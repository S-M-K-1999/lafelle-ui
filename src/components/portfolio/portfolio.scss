@import '../../style/App.scss';

// --- NEW CAROUSEL VARIABLES ---
// Adjust these values to match the size of your ProjectBox component
$project-box-width: 300px; 
$project-box-height: 280px; 
$gutter-size: 30px; 
$border-color: #cccccc; // <-- ADD THIS LINE
$main-color: #FFE600; // You already use this
$light-color: #ffffff; // You already use this
$dark-color: #333333; // You already use this
// --- END NEW CAROUSEL VARIABLES ---

#portfolio {
  padding: 20px 0 40px 0;

  .portfolio__nav {
    ul {
      display: flex;
      li {
        padding: 5px 15px;
        margin-right: 10px;
        cursor: pointer;
        transition: 0.3s ease;
      }
      li:hover {
        background-color: $main-color;
      }
    }
    .portfolio__nav-active {
      background-color: $main-color;
    }
  }

  .portfolio__filter {
    display: flex;
    justify-content: flex-end;
    cursor: pointer;
    margin-bottom: 50px;
    background-attachment: fixed;
    max-width: 200px;
    float: right;
    position: relative;
    padding: 8px 10px;

    p {
      padding-right: 10px;
    }

    .portfolio__filter-menu {
      background-color: $light-color;
      position: absolute;
      top: 40px;
      left: 0;
      width: 100%;
      height: 100px;
      text-align: center;
      border-radius: 5px;
      z-index: 999;
      p {
        padding: 8px 0;
        margin: 2px 0;
        transition: 0.3s ease;
      }
      p:hover {
        background-color: $main-color;
      }
    }
  }

  // --- NEW CAROUSEL STYLES ---

  .portfolio__grid-wrapper {
    position: relative;
    margin-top: 20px;
    // Add horizontal padding to make space for the scroll buttons
    padding: 0 40px; 
  }

  .portfolio__carousel {
    display: flex;
    // flex-wrap: wrap; // Allows items to wrap into multiple rows
    
    // Limits the height to exactly two rows of project boxes plus the gutter space
    // height: calc(2 * #{$project-box-height} + #{$gutter-size}); 
    
    overflow-x: scroll; // Essential for horizontal scrolling
    overflow-y: hidden; // Prevents vertical scrollbar
    scroll-behavior: smooth; // Makes button scrolling smooth
    
    // Optional: Hide scrollbar visually across browsers
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
    &::-webkit-scrollbar { /* Chrome, Safari, Opera */
        display: none;
    }

    // Target the individual ProjectBox components (or whatever class they render as)
    > div { // Assuming ProjectBox renders as a direct child div
        flex: 0 0 $project-box-width; // Fix the width of each item
        height: $project-box-height; // Fix the height
        // Add margin to the right and bottom for spacing between items
        margin: 0 $gutter-size $gutter-size 0; 
        
        // This ensures the two-row wrap happens correctly based on the fixed width and height
    }
  }

  .portfolio__nav-button {
    position: absolute;
    top: 50%; 
    transform: translateY(-50%);
    z-index: 10;
    width: 30px;
    height: 60px;
    background-color: $light-color; // Use a light background
    border: 1px solid $border-color; // Use a border color defined in App.scss, or fallback
    color: $dark-color;
    opacity: 0.8;
    cursor: pointer;
    font-size: 1.5rem;
    line-height: 55px;
    text-align: center;
    border-radius: 5px;
    transition: opacity 0.3s;
    
    &:hover {
        opacity: 1;
    }

    &--left {
      left: 0;
    }
    
    &--right {
      right: 0;
    }
  }

  // --- END NEW CAROUSEL STYLES ---
}

// --- REMOVED MASONRY STYLES ---
/* The following Masonry styles are no longer needed:
.my-masonry-grid, .mint__gallery, .mint__gallery > div 
*/

@media screen and (max-width: 767px) {
  #portfolio {
    .portfolio__nav {
      ul {
        justify-content: center;
      }
    }
    .portfolio__filter {
      justify-content: center;
      max-width: 200px;
      margin: 30px auto;
      float: none;
    }
    // Adjust carousel for mobile if needed (e.g., make project boxes smaller)
  }
}

@media screen and (max-width: 400px) {
  #portfolio {
    .portfolio__nav {
      ul {
        li {
          padding: 5px 5px;
          margin-right: 5px;
        }
      }
    }
  }
}